<%- title_content 'Media Assets' -%>

<%- if @media_assets.empty? -%>
  <%- if params[:show] -%>
    <p><em>No media assets of the selected type have been uploaded yet.</em></p>
    <%= select_tag_for_filter("media_assets", @filters, params) %>

  <%- else -%>
    <p><em>No media assets have been uploaded yet.</em></p>
  <%- end -%>
<%- else -%>

  <%= select_tag_for_filter("media_assets", @filters, params) %>

  <table class="standard">
    <tr>
      <th><%= sort_link(:media_assets, 'name', params) -%></th>
      <th><%= sort_link(:media_assets, 'description', params) -%></th>
      <th><%= sort_link(:media_assets, 'media_file_name', params) -%></th>
      <th><%= sort_link(:media_assets, 'media_content_type', params) -%></th>
      <th><%= sort_link(:media_assets, 'media_file_size', params) -%></th>
      <th><%= sort_link(:media_assets, 'media_updated_at', params) -%></th>
      <th> </th>
    </tr>
  
  <%- for media_asset in @media_assets -%>
    <tr class="<%= cycle('odd', 'even') -%>">
      <td><%=h media_asset.name -%></td>
      <td><%=h media_asset.description -%></td>
      <td><%=h media_asset.media_file_name -%></td>
      <td><%=h media_asset.media_type -%></td>
      <td><%=h number_to_human_size(media_asset.media_file_size) -%></td>
      <td><%=h media_asset.media_updated_at ? media_asset.media_updated_at.to_s(:concise) : '' -%></td>
      <td class="crud_links">
        <%- if media_asset.image? -%>
          <%= crud_links(media_asset, 'image_asset', [:show, :edit]) -%>
          <%= crud_links(media_asset, 'image_asset', [:delete]) -%>
        <%- elsif media_asset.quicktime? -%>
          <%= crud_links(media_asset, 'quicktime_asset', [:show, :edit]) -%>
          <%= crud_links(media_asset, 'quicktime_asset', [:delete]) -%>
        <%- elsif media_asset.flash? -%>
          <%= crud_links(media_asset, 'flash_asset', [:show, :edit]) -%>
          <%= crud_links(media_asset, 'flash_asset', [:delete]) -%>
        <%- elsif media_asset.pdf? -%>
          <%= crud_links(media_asset, 'pdf_asset', [:show, :edit]) -%>
          <%= crud_links(media_asset, 'pdf_asset', [:delete]) -%>
        <%- end -%>
      </td>
    </tr>
  <%- end -%>
  </table>
  <div class="pagination_label"><%= page_entries_info @media_assets -%></div>
  <div class="pagination_controls"><%= will_paginate @media_assets -%></div>
<%- end -%>

<br style="clear: both;" />
<%= link_to 'Show All', media_assets_path, :class => 'button' -%>
<%= link_to 'New Image', new_image_asset_path, :class => 'button' -%>
<%= link_to 'New Flash Movie', new_flash_asset_path, :class => 'button' -%>
<%= link_to 'New PDF Document', new_pdf_asset_path, :class => 'button' -%>
<%= link_to 'New Quicktime Movie', new_quicktime_asset_path, :class => 'button' -%>
